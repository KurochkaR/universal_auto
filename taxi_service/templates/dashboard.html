<!DOCTYPE html>
{% load static %}
{% load i18n %}
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>Admin Dashboard</title>
	<!-- Montserrat Font -->
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
				rel="stylesheet">
	<!-- Material Icons -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
	<!-- Custom CSS -->
	<link rel="stylesheet" href="{% static 'dashboard/css/styles.css' %}">
	<link href="https://cdn.jsdelivr.net/npm/apexcharts@3.41.0/dist/apexcharts.min.css" rel="stylesheet">

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
</head>
<body>
<div class="grid-container">

	<!-- Header -->
	<header class="header">
		<div class="menu-icon" onclick="openSidebar()">
			<span class="material-icons-outlined">menu</span>
		</div>
		<div class="header-left">
			<span class="material-icons-outlined">search</span>
		</div>
		<div class="header-right">
			<span class="material-icons-outlined">notifications</span>
			<span class="material-icons-outlined">email</span>
			<span class="material-icons-outlined">account_circle</span>
		</div>
	</header>
	<!-- End Header -->

	<!-- Sidebar -->
	<aside id="sidebar">
		<div class="sidebar-title">
			<a class="navbar-brand" href="{% url 'index' %}">
				<img src="{% static 'app/images/logo.svg' %}" width="142" height="50" alt="Ninja Taxi">
			</a>
		</div>
		<ul class="sidebar-list">
			<li class="sidebar-list-item">
				<a href="{% url 'dashboard' %}">
					<span class="material-icons-outlined"></span> Dashboard
				</a>
			</li>
			<li class="sidebar-list-item">
				<a href="#" target="_blank">
					<span class="material-icons-outlined"></span> Автомобілі
				</a>
			</li>
			<li class="sidebar-list-item">
				<a href="#" target="_blank">
					<span class="material-icons-outlined"></span> Водії
				</a>
			</li>
			<li class="sidebar-list-item">
				<a href="#" target="_blank">
					<span class="material-icons-outlined"></span> Повідомлення
				</a>
			</li>
			<li class="sidebar-list-item">
				<a href="#" id="settingsBtn">
					<span class="material-icons-outlined"></span> Налаштування
				</a>
			</li>
			<div id="settingsWindow" class="settings-window">
				<div class="settings-content">
					<span class="close-btn">&times;</span>
					<h2>Компанії партнерів</h2>

					<form id="uberForm">
						{% csrf_token %}
						<label for="uberLogin">Uber</label>
						<input type="text" id="uberLogin" name="uberLogin" placeholder="Логін Uber" required>
						<input class="showPassword" type="password" id="uberPassword" name="uberPassword" placeholder="Пароль Uber" required>
						<button type="button" class="login-btn">Увійти</button>
						<div class="loader-login"></div>
					</form>

					<form id="uklonForm">
						{% csrf_token %}
						<label for="uklonLogin">Uklon</label>
						<input type="text" id="uklonLogin" name="uklonLogin" placeholder="Логін Uklon" value="+380" required>
						<input class="showPassword" type="password" id="uklonPassword" name="uklonPassword" placeholder="Пароль Uklon" required>
						<button type="button" class="login-btn">Увійти</button>
						<div class="loader-login"></div>
					</form>

					<form id="boltForm">
						{% csrf_token %}
						<label for="boltLogin">Bolt</label>
						<input type="text" id="boltLogin" name="boltLogin" placeholder="Логін Bolt" required>
						<input class="showPassword" type="password" id="boltPassword" name="boltPassword" placeholder="Пароль Bolt" required>
						<button type="button" class="login-btn">Увійти</button>
						<div class="loader-login"></div>
					</form>
				</div>
			</div>
		</ul>
	</aside>
	<!-- End Sidebar -->

	<!-- Main -->
	<main class="main-container">
		<div class="main-title">
			<h2>Інформаційна панель</h2>
		</div>
		<div class="main-cards">
			<div class="card">
				<div class="card-inner">
					<h2>Дохід за період</h2>
					<span class="material-icons-outlined"></span>
				</div>
				<h3 id="weekly-income-dates"></h3>
				<h3 id="weekly-income-amount"></h3>
			</div>
			<div class="card">
				<div class="card-inner">
					<h2>Загальна оренда за період</h2>
					<span class="material-icons-outlined"></span>
				</div>
				<h3>{{ total_distance_rent.1 }} по {{ total_distance_rent.2 }}</h3>
				<h3>Усього: {{ total_distance_rent.0 }} км</h3>
			</div>
			<div class="card">
				<div class="card-inner">
					<h2>Загальна ефективність авто за період</h2>
					<span class="material-icons-outlined"></span>
				</div>
				<h3>{{ average_effective_vehicle.1 }} по {{ average_effective_vehicle.2 }}</h3>
				<h3>{{ average_effective_vehicle.0 }} грн/км</h3>
			</div>
			<div class="card">
				<div class="card-inner">
					<h2>Сповіщення</h2>
					<span class="material-icons-outlined"></span>
				</div>
				<h3>56</h3>
			</div>
		</div>
		<div class="charts">

			<div class="charts-card">
				<h2 class="chart-title">Каса</h2>
				<div id="bar-chart"></div>
				<div class="chart-btns">
					<div class="radio_btn">
						<input id="radio-1" type="radio" name="effective-amount" value="d" checked>
						<label for="radio-1">день</label>
					</div>
					<div class="radio_btn">
						<input id="radio-2" type="radio" name="effective-amount" value="w">
						<label for="radio-2">тиждень</label>
					</div>
					<div class="radio_btn">
						<input id="radio-3" type="radio" name="effective-amount" value="m">
						<label for="radio-3">місяць</label>
					</div>
					<div class="radio_btn">
						<input id="radio-4" type="radio" name="effective-amount" value="q">
						<label for="radio-4">квартал</label>
					</div>
				</div>
			</div>

			<div class="charts-card">
				<h2 class="chart-title">Ефективність автомобіля</h2>
				<div class="car-select">
					<select id="vehicle-select">
						{% for vehicle in get_all_vehicle %}
							<option>{{ vehicle.licence_plate }}</option>
						{% endfor %}
					</select>
				</div>
				<div id="area-chart"></div>
				<div class="chart-btns">
					<div class="radio_btn">
						<input id="radio-5" type="radio" name="effective-period" value="w" checked>
						<label for="radio-5">тиждень</label>
					</div>
					<div class="radio_btn">
						<input id="radio-6" type="radio" name="effective-period" value="m">
						<label for="radio-6">місяць</label>
					</div>
					<div class="radio_btn">
						<input id="radio-7" type="radio" name="effective-period" value="q">
						<label for="radio-7">квартал</label>
					</div>
				</div>
			</div>

			<div class="payback-car">
				<div class="car-item">
					<div class="car-image">
						<img src="{% static 'app/images/slider-img-1.webp' %}" alt="Зображення авто">
					</div>
					<div class="car-details">
						<h3>Водій: Іванов Іван</h3>
						<p>Номер авто: AB1234</p>
						<p>Заробіток: $5000</p>
						<div class="progress-bar">
							<div class="progress" style="width: 70%;"></div>
						</div>
						<p>Повна сума авто: $20000</p>
					</div>
				</div>

				<div class="car-item">
					<div class="car-image">
						<img src="{% static 'app/images/slider-img-1.webp' %}" alt="Зображення авто">
					</div>
					<div class="car-details">
						<h3>Водій: Петров Петро</h3>
						<p>Номер авто: CD5678</p>
						<p>Заробіток: $3000</p>
						<div class="progress-bar">
							<div class="progress" style="width: 40%;"></div>
						</div>
						<p>Повна сума авто: $15000</p>
					</div>
				</div>

				<div class="car-item">
					<div class="car-image">
						<img src="{% static 'app/images/slider-img-1.webp' %}" alt="Зображення авто">
					</div>
					<div class="car-details">
						<h3>Водій: Сидорова Олена</h3>
						<p>Номер авто: EF9012</p>
						<p>Заробіток: $7000</p>
						<div class="progress-bar">
							<div class="progress" style="width: 90%;"></div>
						</div>
						<p>Повна сума авто: $25000</p>
					</div>
				</div>

				<div class="car-item">
					<div class="car-image">
						<img src="{% static 'app/images/slider-img-1.webp' %}" alt="Зображення авто">
					</div>
					<div class="car-details">
						<h3>Водій: Коваленко Микола</h3>
						<p>Номер авто: GH3456</p>
						<p>Заробіток: $2000</p>
						<div class="progress-bar">
							<div class="progress" style="width: 20%;"></div>
						</div>
						<p>Повна сума авто: $10000</p>
					</div>
				</div>
			</div>
		</div>
	</main>
	<!-- End Main -->
</div>

<!-- Scripts -->
<script>
  let ajaxPostUrl = "{% url 'post_request' %}";
  let ajaxGetUrl = "{% url 'get_request' %}";
</script>
<!-- ApexCharts -->
<script src="https://cdn.jsdelivr.net/npm/apexcharts@3.41.0/dist/apexcharts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>
<script src="{% static 'dashboard/js/scripts.js' %}"></script>
</body>
</html>